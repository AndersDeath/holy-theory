<!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Holy Theory</title>
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/monokai.min.css" />
      <script type="application/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
      <style>
      body {
        margin: 0;
            padding: 0;
        }

        img {
            max-width: 400px;
        }

        .content {
          width: 60%;
          margin: 0 auto;
        }
      </style>
  </head>
  <body>
      <div class="content"><h1 id="floyd-warshall-algorithm">Floyd-Warshall algorithm</h1>
<p>The Floyd-Warshall Algorithm is a dynamic programming algorithm used to find the shortest paths between all pairs of vertices in a weighted graph. Unlike Dijkstra&#39;s algorithm and Bellman-Ford algorithm, Floyd-Warshall works with graphs that can have both positive and negative edge weights and can handle graphs with cycles. The algorithm iteratively updates the shortest path distances between all pairs until reaching the optimal solution.</p>
<p><strong>How Floyd-Warshall Algorithm Works:</strong></p>
<ol>
<li><p><strong>Initialization:</strong></p>
<ul>
<li>Create a matrix to represent the distances between all pairs of vertices. Initialize the matrix with the direct edge weights and set the distances to infinity where there is no direct edge.</li>
<li>Initialize the diagonal of the matrix to zeros since the distance from a vertex to itself is zero.</li>
</ul>
</li>
<li><p><strong>Iterative Updates:</strong></p>
<ul>
<li>For each vertex &#39;k&#39;, iterate through all pairs of vertices &#39;i&#39; and &#39;j&#39;.</li>
<li>Check if the path from &#39;i&#39; to &#39;j&#39; through &#39;k&#39; is shorter than the current known path from &#39;i&#39; to &#39;j&#39;.</li>
<li>If yes, update the distance from &#39;i&#39; to &#39;j&#39; with the shorter path.</li>
</ul>
</li>
<li><p><strong>Repeat:</strong></p>
<ul>
<li>Repeat the process for all vertices as intermediate vertices (&#39;k&#39;).</li>
<li>After each iteration, the matrix reflects the shortest distances between all pairs of vertices considering all possible intermediate vertices.</li>
</ul>
</li>
<li><p><strong>Result:</strong></p>
<ul>
<li>The final matrix contains the shortest distances between all pairs of vertices.</li>
</ul>
</li>
</ol>
<p><strong>Key Characteristics:</strong></p>
<ul>
<li><p><strong>Dynamic Programming:</strong></p>
<ul>
<li>Floyd-Warshall is a dynamic programming algorithm that builds solutions to subproblems to solve the overall problem.</li>
</ul>
</li>
<li><p><strong>Negative Cycles:</strong></p>
<ul>
<li>The algorithm can detect negative cycles in the graph. If there exists a negative cycle, the algorithm won&#39;t converge to a solution.</li>
</ul>
</li>
</ul>
<p><strong>Applications:</strong></p>
<ul>
<li>Network Routing.</li>
<li>Shortest Path Problems.</li>
<li>Traffic Engineering.</li>
</ul>
<p><strong>Time Complexity:</strong></p>
<ul>
<li>The time complexity of Floyd-Warshall Algorithm is (O(V^3)), where (V) is the number of vertices in the graph.</li>
</ul>
<p><img src="https://raw.githubusercontent.com/AndersDeath/holy-theory/main/images/floyd-warshall.png" alt="Floyd-Warshall algorithm"></p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Graph</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">adjacencyMatrix</span>: <span class="hljs-built_in">number</span>[][];

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">numVertices: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span> = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: numVertices }, <span class="hljs-function">() =&gt;</span>
      <span class="hljs-title class_">Array</span>(numVertices).<span class="hljs-title function_">fill</span>(<span class="hljs-title class_">Infinity</span>)
    );

    <span class="hljs-comment">// Set diagonal elements to 0</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numVertices; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[i][i] = <span class="hljs-number">0</span>;
    }
  }

  <span class="hljs-title function_">addEdge</span>(<span class="hljs-params">source: <span class="hljs-built_in">number</span>, destination: <span class="hljs-built_in">number</span>, weight: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[source][destination] = weight;
  }

  <span class="hljs-title function_">floydWarshall</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> numVertices = <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>.<span class="hljs-property">length</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k = <span class="hljs-number">0</span>; k &lt; numVertices; k++) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; numVertices; i++) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; numVertices; j++) {
          <span class="hljs-keyword">if</span> (
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[i][k] + <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[k][j] &lt;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[i][j]
          ) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[i][j] =
              <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[i][k] + <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>[k][j];
          }
        }
      }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">adjacencyMatrix</span>;
  }
}

<span class="hljs-comment">// Example usage:</span>
<span class="hljs-keyword">const</span> graph = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Graph</span>(<span class="hljs-number">4</span>);

graph.<span class="hljs-title function_">addEdge</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>);
graph.<span class="hljs-title function_">addEdge</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>);
graph.<span class="hljs-title function_">addEdge</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>);
graph.<span class="hljs-title function_">addEdge</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);
graph.<span class="hljs-title function_">addEdge</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>);

<span class="hljs-keyword">const</span> result = graph.<span class="hljs-title function_">floydWarshall</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Shortest Path Matrix:&quot;</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> row <span class="hljs-keyword">of</span> result) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(row);
}
</code></pre></div>
  </body>
  </html>